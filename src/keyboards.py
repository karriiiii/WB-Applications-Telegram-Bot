from aiogram.types import InlineKeyboardButton, InlineKeyboardMarkup

USER_ASK_REGION = [
    [InlineKeyboardButton(text="–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", callback_data="region_msk")],
    [InlineKeyboardButton(text="–í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", callback_data="region_vldmr")],
]

USER_ASK_ADDRESS_MSK = [
    [InlineKeyboardButton(text="–ø–æ—Å—ë–ª–æ–∫ —Å–æ–≤—Ö–æ–∑–∞ –û—Å—Ç–∞–Ω–∏–Ω–æ, –î–æ—Ä–æ–∂–Ω–∞—è, 28–ê", callback_data="address_msk_1")],
    [InlineKeyboardButton(text="–≥. –ö–æ—Ä–æ–ª–µ–≤ –õ–µ—Å–Ω–∞—è, 6", callback_data="address_msk_2")],
    [InlineKeyboardButton(text="–¥. –ë–æ–ª—å—à–∏–µ –ñ–µ—Ä–µ–±—Ü—ã –í–æ—Å—Ç–æ—á–Ω–∞—è, 1–∫8", callback_data="address_msk_3")],
    [InlineKeyboardButton(text="–ø–æ—Å. –°–æ—Ñ—Ä–∏–Ω–æ –¢—é—Ç—á–µ–≤–∞, —Å15", callback_data="address_msk_4")],
    [InlineKeyboardButton(text="–≥. –ú—ã—Ç–∏—â–∏ –ö–∞–ª–∏–Ω–∏–Ω–∞, 6", callback_data="address_msk_5")],
    [InlineKeyboardButton(text="—Å. –í–∞—Å–∏–ª—å–µ–≤—Å–∫–æ–µ 22–ê", callback_data="address_msk_6")],
    [InlineKeyboardButton(text="–ø–æ—Å—ë–ª–æ–∫ —Å–∞–Ω–∞—Ç–æ—Ä–∏—è –¢–∏—à–∫–æ–≤–æ, –ö—É—Ä–æ—Ä—Ç–Ω–∞—è —É–ª–∏—Ü–∞, 2", callback_data="address_msk_7")],
    [InlineKeyboardButton(text="–°–µ—Ä–≥–∏–µ–≤ –ü–æ—Å–∞–¥, –ü–æ–≥—Ä–∞–Ω–∏—á–Ω–∞—è —É–ª–∏—Ü–∞ 32", callback_data="address_msk_8")],
    [InlineKeyboardButton(text="–ü—É—à–∫–∏–Ω–æ, –ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–∞—è —É–ª–∏—Ü–∞, 6", callback_data="address_msk_9")],
    [InlineKeyboardButton(text="–ú—ã—Ç–∏—â–∏, –ö–∞–ª–∏–Ω–∏–Ω–∞, 6", callback_data="address_msk_10")],
    [InlineKeyboardButton(text="–ø–æ—Å—ë–ª–æ–∫ –°–æ—Ñ—Ä–∏–Ω–æ, –¢—é—Ç—á–µ–≤–∞ —Å15", callback_data="address_msk_11")],
]

USER_ASK_ADDRESS_VLDMR = [
    [InlineKeyboardButton(text="–≥. –ö–æ–ª—å—á—É–≥–∏–Ω–æ, —É–ª–∏—Ü–∞ –ú–∞–∫—Å–∏–º–æ–≤–∞, 11", callback_data="address_vldmr_1")],
    [InlineKeyboardButton(text="–≥. –ü–µ—Ç—É—à–∫–∏ –ú–æ—Å–∫–æ–≤—Å–∫–∞—è, 16", callback_data="address_vldmr_2")],
    [InlineKeyboardButton(text="–≥. –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤ –ö–æ—Ä–æ–ª—ë–≤–∞, 4–∫2", callback_data="address_vldmr_3")],
    [InlineKeyboardButton(text="–≥. –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤ –ö–æ—Ä–æ–ª—ë–≤–∞, 9", callback_data="address_vldmr_4")],
    [InlineKeyboardButton(text="–≥. –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤ –ì–∞–≥–∞—Ä–∏–Ω–∞, 23–∫1", callback_data="address_vldmr_5")],
    [InlineKeyboardButton(text="–°—Ç—Ä—É–Ω–∏–Ω–æ –ó–∞—Ä–µ—á–Ω–∞—è, 32", callback_data="address_vldmr_6")],
    [InlineKeyboardButton(text="–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤, —É–ª–∏—Ü–∞ –ñ—É–ª—ë–≤–∞, 3", callback_data="address_vldmr_7")],
    [InlineKeyboardButton(text="–≥. –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤ –ö–æ–ª—å—á—É–≥–∏–Ω—Å–∫–∞—è 49—Å1", callback_data="address_vldmr_8")],
    [InlineKeyboardButton(text="–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤, –£–ª–∏—Ü–∞ –ì–µ–æ–ª–æ–≥–æ–≤, 8", callback_data="address_vldmr_9")],
    [InlineKeyboardButton(text="–≥. –ö–æ–ª—å—á—É–≥–∏–Ω–æ, —É–ª–∏—Ü–∞ –ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–∞—è, 31", callback_data="address_vldmr_10")],
    [InlineKeyboardButton(text="–ø–æ—Å—ë–ª–æ–∫ –ì–æ—Ä–æ–¥–∏—â–∏, –°–æ–≤–µ—Ç—Å–∫–∞—è, 18", callback_data="address_vldmr_11")],
]

USER_ASK_CONFIRMATION = [
    [InlineKeyboardButton(text="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ–∑—Ä–∞—Å—Ç", callback_data="edit_age")],
    [InlineKeyboardButton(text="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ", callback_data="edit_citizenship")],
    [InlineKeyboardButton(text="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥–∏–æ–Ω", callback_data="edit_region")],
    [InlineKeyboardButton(text="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å", callback_data="edit_address")],
    [InlineKeyboardButton(text="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω", callback_data="edit_phone")],
    [InlineKeyboardButton(text="‚úÖ –í—Å–µ –≤–µ—Ä–Ω–æ, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å", callback_data="confirm_submission")],
    [InlineKeyboardButton(text="‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ", callback_data="cancel_submission")],
]

def user_get_start_keyboard(has_existing_application: bool) -> InlineKeyboardMarkup:
    buttons = []
    if has_existing_application:
        buttons.append([InlineKeyboardButton(text="‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ—é –∑–∞—è–≤–∫—É", callback_data="start_edit_application")])
        buttons.append([InlineKeyboardButton(text="üìù –ü–æ–¥–∞—Ç—å –Ω–æ–≤—É—é (–∑–∞–º–µ–Ω–∏—Ç —Å—Ç–∞—Ä—É—é)", callback_data="start_new_application")])
    else:
        buttons.append([InlineKeyboardButton(text="üìù –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É", callback_data="start_new_application")])
    return InlineKeyboardMarkup(inline_keyboard=buttons)

def get_region_keyboard() -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(inline_keyboard=USER_ASK_REGION)

def get_address_keyboard(region_code: str) -> InlineKeyboardMarkup | None:
    now_keyboard = None
    if region_code == 'msk':
        now_keyboard = InlineKeyboardMarkup(inline_keyboard=USER_ASK_ADDRESS_MSK)
    elif region_code == 'vldmr':
        now_keyboard = InlineKeyboardMarkup(inline_keyboard=USER_ASK_ADDRESS_VLDMR)
    return now_keyboard

async def get_confirmation_keyboard() -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(inline_keyboard=USER_ASK_CONFIRMATION)

def get_admin_pagination_keyboard(current_page: int, total_pages: int, action_prefix: str = "admin_apps_page_") -> InlineKeyboardMarkup | None:
    """
    –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫.
    action_prefix –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–æ–≤—ã–µ, –≤ —Ä–∞–±–æ—Ç–µ –∏ —Ç.–¥.)
    """
    if total_pages <= 1:
        return None

    buttons_row = []
    if current_page > 1:
        buttons_row.append(InlineKeyboardButton(text="‚¨ÖÔ∏è –ü—Ä–µ–¥.", callback_data=f"{action_prefix}{current_page - 1}"))
    
    buttons_row.append(InlineKeyboardButton(text=f"üìÑ {current_page}/{total_pages}", callback_data="admin_noop")) # noop - –Ω–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏

    if current_page < total_pages:
        buttons_row.append(InlineKeyboardButton(text="–°–ª–µ–¥. ‚û°Ô∏è", callback_data=f"{action_prefix}{current_page + 1}"))
    
    return InlineKeyboardMarkup(inline_keyboard=[buttons_row])

def get_admin_review_keyboard(app_id: int, current_page: int) -> InlineKeyboardMarkup:
    """
    –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –¥–µ–π—Å—Ç–≤–∏–π —Å –æ–¥–Ω–æ–π –∑–∞—è–≤–∫–æ–π.
    current_page - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è.
    """
    buttons = [
        [InlineKeyboardButton(text="‚úâÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é", callback_data=f"admin_review_write_{app_id}_{current_page}")],
        [InlineKeyboardButton(text="üèÅ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞—è–≤–∫—É", callback_data=f"admin_review_complete_{app_id}_{current_page}")],
        [InlineKeyboardButton(text="‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É", callback_data=f"admin_review_reject_{app_id}_{current_page}")],
        [InlineKeyboardButton(text="‚õî –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è", callback_data=f"admin_ban_user_{app_id}_{current_page}")],
        [InlineKeyboardButton(text="‚¨ÖÔ∏è –ö —Å–ø–∏—Å–∫—É –∑–∞—è–≤–æ–∫", callback_data=f"admin_review_backtolist_{current_page}")]
    ]
    return InlineKeyboardMarkup(inline_keyboard=buttons)